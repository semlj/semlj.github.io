<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="(Marcello Gallucci)" />


<title>Simple models</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-T6FJPHN9QT"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-T6FJPHN9QT');
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>





<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-sm-12 col-md-4 col-lg-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-sm-12 col-md-8 col-lg-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">SEMLj</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="help.html">Help</a>
</li>
<li>
  <a href="syntax.html">SEMLj Syntax</a>
</li>
<li>
  <a href="gui.html">SEMLj GUI</a>
</li>
<li>
  <a href="examples.html">Examples</a>
</li>
<li>
  <a href="rosetta.html">Rosetta Store</a>
</li>
<li>
  <a href="release_notes.html">Release Notes</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/semlj/semlj">View on Github</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Simple models</h1>
<h4 class="author">(Marcello Gallucci)</h4>

</div>


<p><span class="keywords"> <span class="keytitle"> keywords </span> multiple regression, path analysis, lavaan, multivatiate regression </span></p>
<p><span class="draft"> Draft version, mistakes may be around </span></p>
<p>In this example we show how to estimate simple regression models with <span class="modulename">SEMLj</span>. The aim is threefold: first, it may help seeing how the SEM module can estimate path analysis, and see how path analysis encompasses models usually estimated with the General Linear Model (but look at <a href="https://gamlj.github.io/">GAMLj module</a> for a specialized module in <span class="jamovi">jamovi</span>). Second, we are going to estimate some models discussed in <a href="https://stats.idre.ucla.edu/r/seminars/rsem/">UCLA statistical consulting webpage</a>, so one can compare the results obtained in <code>lavaan</code> with the ones obtained in <span class="modulename">SEMLj</span>. Third, we show how to add some interesting test and twist to simple regression models.</p>
<p>Much of the output that <span class="modulename">SEMLj</span> produces is labeled as it is in lavaan R package output, so lots of information can be found in <a href="https://lavaan.ugent.be/tutorial/tutorial.pdf">lavaan help and tutorials</a></p>
<div id="research-data" class="section level1">
<h1>Research data</h1>
<p>The data we use can be found <a href="https://stats.idre.ucla.edu/wp-content/uploads/2021/02/worland5.csv">here at UCLA</a>. The sample is composed by 500 students, each with 9 observed variables: Motivation (motiv), Harmony (harm), Stability (stabi), Negative Parental Psychology (ppsych), SES, Verbal IQ (verbal), Reading (read), Arithmetic (arith) and Spelling (spell). They are all continuous variables.</p>
</div>
<div id="simple-regression-model-1a" class="section level1">
<h1>Simple regression (Model 1A)</h1>
<p>First, we estimate a simple regression with <em>read</em> as dependent (endogenous) variable and <em>motiv</em> as independent (exogenous) variable.</p>
<div id="input" class="section level2">
<h2>Input</h2>
<p>Since we have only observed variables, we need to set the latent variable as equal to the observed variable. This is done simply by selecting only one observed variable per latent variable.</p>
<p>In <span class="modulename">SEMLj</span> we set the variables roles in the first panel as shown here: The dependent variable goes in the <span class="option">Latent Endogenous Variables</span> field, and the independent variable goes in the <span class="option">Latent Exogenous Variables</span> field.</p>
<p><img src=" pics/example1/input_model1_roles.png " class="img-responsive" alt=""></p>
<p>We also name the latent variables <code>l_read</code> and <code>l_motiv</code> to distingish them from the observed variables.</p>
<p>Then we specify the endogenous variable predictor in the <span class="option">Endogenous Models</span> panel</p>
<p><img src=" pics/example1/input_model1_model.png " class="img-responsive" alt=""></p>
<p>Because we want to see the path diagram of the model (although in this case is too simple to be interesting), we ask for the path diagram in the <span class="option">Path Diagram</span> panel.</p>
<p><img src=" pics/example1/input_model1_diagram.png " class="img-responsive" alt=""></p>
</div>
<div id="output" class="section level2">
<h2>Output</h2>
<div id="general-info" class="section level3">
<h3>General info</h3>
<p><img src=" pics/example1/output_model1_measures.png " class="img-responsive" alt=""></p>
<p>The first table of interest here is the <span class="option">Measurement model</span> table. We see that the loading of the two observed variables on their respective latent variables are set to 1. This means that observed and latent are the same variables, so we can interpret the relationship between <code>l__read</code> and <code>l_motiv</code> as the relationship between <code>read</code> and <code>motive</code>.</p>
<p>This relationship (the B coefficient) is found in the <span class="option">Parameters Estimates</span> table.</p>
<p><img src=" pics/example1/output_model1_parameters.png " class="img-responsive" alt=""></p>
<p>The <code>Parameter Estimates</code> table reports the regression coefficients. Notice that the <code>Estimate</code> is the B coefficient, and the <span class="math inline">\(\beta\)</span> is the fully standardized coefficient. In this case they are equal because the variables have the same variance (100), which implies that B and <span class="math inline">\(\beta\)</span> are equal. This table basically shows that the regression coefficient linking <code>read</code> and <code>motiv</code> is <span class="math inline">\(.530\)</span>, <span class="math inline">\(z=14.0\)</span>,<span class="math inline">\(p&lt;.001\)</span>.</p>
</div>
<div id="overall-tests" class="section level3">
<h3>Overall tests</h3>
<p><img src=" pics/example1/output_model1_overall.png " class="img-responsive" alt=""></p>
<p><code>Model tests</code> table reports the chi-square of the whole model. Because there is no fixed parameter, the user model chi-square is zero. The <code>Baseline model</code> row refers to the comparison between the user model, that is <code>read~motiv</code>, and a model in which the variables covariance is set to zero. In this case, it is simply testing that the effect of <code>motiv</code> on <code>read</code> is different from zero.</p>
<p>Fit indices are the standard indices reported is structural equation models.</p>
</div>
<div id="r2" class="section level3">
<h3><span class="math inline">\(R^2\)</span></h3>
<p>To see the <span class="math inline">\(R^2\)</span> of this model, we select <span class="option">RSquared=Endogenous</span> option in the <span class="option">Output Options</span> panel.</p>
<p><img src=" pics/example1/input_model1_r2.png " class="img-responsive" alt=""></p>
<p>The <span class="math inline">\(R^2\)</span> one obtains is equivalent to the <span class="math inline">\(R^2\)</span> one would get in a linear regression.</p>
<p><img src=" pics/example1/output_model1_r2.png " class="img-responsive" alt=""></p>
</div>
<div id="coefficients" class="section level3">
<h3>Coefficients</h3>
</div>
<div id="additional-parameters" class="section level3">
<h3>Additional parameters</h3>
<p><img src=" pics/example1/output_model1_variances.png " class="img-responsive" alt=""></p>
<p>The <code>Variances and Covariances</code> table reports variables estimated parameters. As regards <code>l_read</code>, we obtain the estimated residual variance. This value (<span class="math inline">\(71.8\)</span>) is basically the Mean Square Error (<span class="math inline">\(SS_{error} / DF_{error}\)</span>) one gets in a standard regression. For <code>l_motiv</code>, we obtain the whole variance <em>estimated</em> in the sample. Variances of the observed variables are set to 0 because all their variability is captured by the latent variables.</p>
<p>Finally, the path diagram which is indeed very simple</p>
<p><img src=" pics/example1/output_model1_path.png " class="img-responsive" alt=""></p>
</div>
</div>
</div>
<div id="multiple-regression-model-2" class="section level1">
<h1>Multiple regression (Model 2)</h1>
<div id="input-1" class="section level2">
<h2>Input</h2>
<p>In model 2 we add a second predictor <code>ppsych</code>, first in the variables role panel, then to the endogenous variables model.</p>
<p><img src=" pics/example1/input_model2_vars.png " class="img-responsive" alt=""></p>
<p><img src=" pics/example1/input_model2_model.png " class="img-responsive" alt=""></p>
</div>
<div id="output-1" class="section level2">
<h2>Output</h2>
<p>Results are in line with a standard multiple regression model. The path diagram is as follows</p>
<p><img src=" pics/example1/output_model2_path.png " class="img-responsive" alt=""></p>
<p>We do not go through the output again, because we would find the same tables with the same interpretation as before. However, we can do something with this model that OLS regression does not allow to do with simplicity. We test the null-hypothesis that the two predictors have the same effect. In other words, we test that the effect from <code>motiv</code> to <code>read</code> is not different from the effect from <code>ppsych</code> to <code>read</code>.</p>
<p>Let’s look at the parameters we have just estimated.</p>
<p><img src=" pics/example1/output_model2_parameters.png " class="img-responsive" alt=""></p>
<p>We want to test the null-hypothesis <span class="math inline">\(.461=-.275\)</span>. This test makes sense because the two coefficients have the same scale, as indicated by the fact that <code>motiv</code> and <code>ppsych</code> have the same variance.</p>
<p>To obtain this test, we need to restrict the two coefficients to be equal. We can refer to parameters with their label (automatically assigned by <span class="modulename">SEMLj</span>). Parameters labels are shown in the tables when <span class="option">Show parameters labels</span> option is flagged in the <span class="option">Output Options</span> panel.</p>
<p><img src=" pics/example1/output_model2_parameters2.png " class="img-responsive" alt=""></p>
<p>We can see that the two coefficients we want to equate are labelled <span class="math inline">\(p4\)</span> and <span class="math inline">\(p5\)</span>. Thus, we go to the <span class="option">Custom Model Settings</span> panel and constraints them as equal.</p>
<p><img src=" pics/example1/input_model2_constraints.png " class="img-responsive" alt=""></p>
<p>The output now reports the coefficients as equal to .093.</p>
<p>In the output we also find a new table, <code>Constraints Score Tests</code>, which provides a chi-square test comparing the original model with the constrained model with the two coefficients set as equal (<em>equal</em> is defined as <span class="math inline">\(==\)</span>)(more examples of contraints can be obtained <span class="modulename">SEMLj</span> by selecting <span class="option">Show syntax examples</span> option in the <span class="option">Output Options</span> panel).</p>
<p><img src=" pics/example1/output_model2_constraints.png " class="img-responsive" alt=""></p>
<p>The test null-hypothesis is that they are equal, thus if one finds the test to be <em>significant</em>, one can reject the null-hypothesis. In this case, the coefficients can be considered as <em>statistically different</em>.</p>
<p>We the same logic, one can test any reasonable hypothesis in a model by restricting the appropriate coefficients to be equal or to equate a specific value.</p>
</div>
</div>
<div id="multivariate-regression" class="section level1">
<h1>Multivariate regression</h1>
<p><em>(Models 3A-E)</em></p>
<p>We can now add some endogenous dependent variables. We add <code>arith</code> (<em>arithmetic test score</em>) as dependent variable in the model, with <code>motiv</code> and <code>ppsych</code> as predictors of <code>read</code>, and only <code>motiv</code> as predictor of <code>arith</code>. The path diagram looks like this.</p>
<p><img src=" pics/example1/output_model3_path.png " class="img-responsive" alt=""></p>
<p>We obtain this model by adding <code>l_arith</code> to the <span class="option">Latent Endogeneous Variables</span> field, filling it with the observed variable <code>arith</code>, and then defining <code>l_arith</code> predictors in the <span class="option">Endogenous Models</span> panel.</p>
<p><img src=" pics/example1/input_model3_vars.png " class="img-responsive" alt=""> <img src=" pics/example1/input_model3_model.png " class="img-responsive" alt=""></p>
<p>We get exactly the same results obtained in lavaan (cf <a href="https://stats.idre.ucla.edu/r/seminars/rsem/">UCLA statistical consulting webpage</a>).</p>
<p><img src=" pics/example1/output_model3_parameters.png " class="img-responsive" alt=""> <img src=" pics/example1/output_model3_variances.png " class="img-responsive" alt=""></p>
<p>The <span class="math inline">\(R^2\)</span> are now two, one for each endogenous variable (see <a href="https://pathj.github.io/example1.html">PATHj example</a> for a discussion about <span class="math inline">\(R^2\)</span> in multivariate path analysis)</p>
<p><img src=" pics/example1/output_model3_r2.png " class="img-responsive" alt=""></p>
</div>
<div id="related-examples" class="section level1">
<h1>Related examples</h1>
<ul>
<li>
<a href="syn_example1.html">Simple models</a>
</li>
</ul>
<h1>
Comments?
</h1>
<p>
Got comments, issues or spotted a bug? Please open an issue on <a href=" https://github.com/pathj/pathj/issues "> PATHj at github“</a> or <a href="mailto:mcfanda@gmail.com">send me an email</a>
</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
